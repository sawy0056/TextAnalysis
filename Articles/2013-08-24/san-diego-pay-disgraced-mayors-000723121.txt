San Diego Mayor Bob FilnerMoreREUTERS / Fred GreavesSan Diego Mayor Bob Filner (D)San Diego Mayor Bob Filner has agreed to resign effective one week from today, but not before he extracted a major concession from the city: It will pay for his legal defense against many of the claims against him.The city will provide a joint legal defense against claims from current and former employees of the city of San Diego, who are likely to sue both the city and Filner personally over sexual harassment. Additionally, the city will pay up to $98,000 for independent legal counsel for Filner in those cases.This doesn't mean Filner is totally off the hook financially. If plaintiffs are awarded damages from the city because of Filner's conduct, it reserves the right to sue him to recoup the cost of those awards. There's one key exception to that, though: the city won't sue Filner to recover any award to Irene McCormack Jackson, his former communications director who is represented by Gloria Allred.The agreement also does not cover women who have never worked for the city of San Diego. If they sue Filner, he's on his own.All that is according to a summary of the agreement prepared by City Attorney Jan Goldsmith and tweeted by Liam Dillon, a reporter at Voice of San Diego.More From Business Insider San Diego Mayor Bob Filner Resigns, And Blasts His Opponents For A 'Political Coup'Why Warner Bros. Had To Pick Ben Affleck To Play BatmanMom Punches Skateboarder In The Face After He Accidentally Runs Into Her Kid